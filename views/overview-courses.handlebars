<div class="flex flex-row grow 2xl:justify-between overflow-x-hidden lg:overflow-x-clip">
  <main id="main-content" class="w-full px-4 py-16 dashboard_content">
    
      <div class="flex flex-col flex-nowrap grow justify-between">
      {{#unless user }}  
        <h3 class='mt-4 ml-4'>Logi sisse, et n채ha 체levaadet</h3>
      {{/unless }}

      {{#if user }}
        <div class="flex flex-row justify-start gap-x-4">
          <form method="POST" action="/progress-overview" name="displayByTeams" id="displayByTeams">
            <!-- Hidden form inputs to send req.body values -->
            <input type="hidden" name="displayBy" id="displayBy" value="teams" >
            <button name="displayByTeamsButton" class="btn btn-secondary">Tiimide j채rgi</button>
          </form>
          <form method="POST" action="/progress-overview" name="displayByCourses" id="displayByCourses">
            <!-- Hidden form inputs to send req.body values -->
            <input type="hidden" name="displayBy" id="displayBy" value="courses" >
            <button name="displayByCoursesButton" class="btn btn-primary">Kursuste j채rgi</button>
          </form>
        </div>

        <div class="">

          <h1>Kursused:</h1>
          {{#each coursesWithTeams}}
            <div class="p-2 pl-4 ml-4">
              <div class="flex flex-nowrap content-center gap-x-4">
                <h3 class="text-md font-bold mb-2 uppercase">{{this.courseName}}</h3>
              </div>
              <div class="flex flex-nowrap justify-start gap-x-4 items-center">
                <p class="m-0 p-0">{{this.courseCode}}</p>
                <p class="flex items-start gap-2 m-0 p-0"><span class="material-symbols-outlined">calendar_month</span>Vali tiim:</p>
                <div class="flex flex-nowrap justify-start gap-x-4 items-center">
                  {{#each this.teams}}
                    <p class='bg-neutral-50 hover:bg-neutral-100 font-bold m-0 p-2' onclick="handleCourseClick('{{this}}', '{{../this.courseSlug}}')">
                      {{this}}
                      <form id="overview-{{this}}-{{../this.courseSlug}}" name="overview-{{this}}-{{../this.courseSlug}}" style="display:none;" method="POST" action="/progress-overview" >
                        <!-- Hidden form inputs to send req.body values -->
                        <input type="hidden" name="selectedTeam" id="selectedTeam-{{this}}" value="{{this}}" >
                        <input type="hidden" name="selectedCourse" id="selectedCourse-{{../this.courseSlug}}" value="{{../this.courseSlug}}" >
                        <input type="hidden" name="selectedCourseData" id="selectedCourseData-{{../this.courseSlug}}" >
                      </form>
                    </p>
                  {{/each }}
                </div>
              </div>
            </div>
          {{/each}}

        </div>

      {{/if }}
    </div>

  </main>

</div>
