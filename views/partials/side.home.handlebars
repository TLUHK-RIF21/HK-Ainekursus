<nav class="sidebar flex flex-col items-start absolute lg:relative left-[-500vw] lg:left-0 mt-[-2.5rem] lg:mt-auto w-full transition-all" id="sidebar">

  <button onclick='closeSideMenu()' class="flex items-center ml-4 lg:hidden pt-4">
    <i class="material-symbols-outlined lg:mt-auto cursor-pointer lg:hidden text-4xl" aria-hidden="true">arrow_circle_left</i>
    <span class="font absolute left-[-1000]">Sulge</span>
  </button>

  <!-- sidebar sticky behavior beginning from lg size -->
  <div class="p-2 lg:sticky lg:top-0 lg:overflow-y-auto lg:max-h-screen drop-shadow-2xl w-full">

<!-- DROPDOWN MENu -->

    <div class="bg-neutral-100 mb-5">

      <div class="!no-underline p-4">
        <!-- Topic name and code -->
        {{#each courses}}
          {{#if_equal this.courseSlug ../path.courseSlug}}
          <div class="mb-2">
            <a class="text-md font-bold mb-2 !no-underline "href="/{{../this.courseSlug}}/about">{{../this.courseName}}</a>
          </div>
          <div class="flex justify-between">
            <a class="!no-underline py-2" href="/{{../this.courseSlug}}/about">({{../this.courseCode}})</a>
          {{/if_equal}}
        {{/each}}
            <!-- About links -->
            {{#each docs}}
              <a class="px-4 py-2 bg-neutral-200 hover:bg-neutral-300 !no-underline" href="/{{../path.courseSlug}}/{{this.slug}}">
              {{this.name}}</a>
            {{/each}}
          </div>
      </div>

      <div class="tabs">

        <!-- Lessons links -->
        {{#each lessons}}
        <div class="tab 
          {{#if_equal this.slug ../path.contentSlug }} 
            active-tab
          {{/if_equal }}
        ">
          <input type="checkbox" id="chck{{@index}}"> <!-- @index loeb iga elemendi indeksit "loengud" arrays. Tulemus: unikaalsed ID-d chck0, chck1, chck2 jne -->
          <label class="tab-label" for="chck{{@index}}">
            <div class="flex gap-2 w-full">
              <a class="grow py-3 !no-underline" href="/{{../path.courseSlug}}/{{this.slug}}">{{this.name}}
              </a>
            </div>
          </label>
          
          <!-- Themes links -->
          {{#each this.components}}
            <div class="tab-content flex gap-2 
              {{#if_equal (concatActivePath ../this.slug this) ../../path.fullPath }}
                active-tab-content
              {{/if_equal }}
            " >
              <a class="grow py-3 !no-underline" 
                href="/{{../../path.courseSlug}}/{{../this.slug}}/{{this}}">
                 <div class="flex gap-2 w-full" >
                    <span class="material-symbols-outlined">
                      {{{showComponentType this ../../concepts ../../practices}}}
                    </span>
                    {{{showComponentName this ../../concepts ../../practices}}}
                  </div>
                </a>
                <span class="!pt-3 material-symbols-outlined">radio_button_unchecked</span>

            </div>
          {{/each}}

          <!-- Lesson extra material -->
          {{#each this.additionalMaterials}}
            <div class="tab-content flex gap-2
              {{#if_equal (concatActivePath ../this.slug this.slug) ../../path.fullPath }} 
                active-tab-content
              {{/if_equal }}
            ">
              <a class="py-3 w-full !no-underline" 
              href="/{{../../path.courseSlug}}/{{../this.slug}}/{{this.slug}}">{{this.name}}</a>

            </div>
          {{/each}}

        </div>
        {{/each}}

        <!-- Topic extra material link -->
        {{#each additionalMaterials}}
        <div class="tab
          {{#if_equal this.slug ../path.fullPath }} 
            active-tab
          {{/if_equal }}
        ">
          <label class="no-tab-label">
            <a class="py-3 w-full !no-underline" href="/{{../path.courseSlug}}/{{this.slug}}">{{this.name}}
            </a></label>
        </div>
        {{/each}}

      </div>
    </div>

    <div class="!no-underline p-4 bg-white">
        {{#each courses}}
          {{#if_not_equal this.courseSlug ../path.courseSlug}}
          <div class="mb-2">
            <a class="text-md font-bold mb-2 !no-underline "href="/{{../this.courseSlug}}/about">{{../this.courseName}}</a>
          </div>
          <div class="flex justify-between">
            <a class="!no-underline py-2" href="/{{../this.courseSlug}}/about">({{../this.courseCode}})</a>

            <a class="px-4 py-2 bg-neutral-100 hover:bg-neutral-200 !no-underline" href="/{{../this.courseSlug}}/about">Ainekursusest</a>
          {{/if_not_equal}}
        {{/each}}
          </div>
      </div>


    {{!-- <div class="text-md font-bold p-4 w-full bg-white hover:bg-neutral-100">
      {{#each courses}}
      {{#if_not_equal this.courseSlug ../path.courseSlug}}
      <a class="!no-underline" href="/{{../this.courseSlug}}/about">{{../this.courseName}}</a>
      {{/if_not_equal}}
      {{/each}}
    </div> --}}





  </div>
</nav>

