<div class="flex flex-row grow 2xl:justify-between overflow-x-hidden lg:overflow-x-clip">
  <main id="main-content" class="w-full px-4 py-16 dashboard_content">
    
      <div class="flex flex-col flex-nowrap grow justify-between">
      {{#unless user }}  
        <h3 class='mt-4 ml-4'>Logi sisse, et n채ha 체levaadet</h3>
      {{/unless }}

      {{#if user }}
        <div class="flex flex-row justify-start gap-x-4">
          <form method="POST" action="/progress-overview" name="displayByTeams" id="displayByTeams">
            <!-- Hidden form inputs to send req.body values -->
            <input type="hidden" name="displayBy" id="displayBy" value="teams" >
            <button name="displayByTeamsButton" class="btn btn-primary">Tiimide j채rgi</button>
          </form>
          <form method="POST" action="/progress-overview" name="displayByCourses" id="displayByCourses">
            <!-- Hidden form inputs to send req.body values -->
            <input type="hidden" name="displayBy" id="displayBy" value="courses" >
            <button name="displayByCoursesButton" class="btn btn-secondary">Kursuste j채rgi</button>
          </form>
        </div>

        <div class="">

          <h1>Tiimid:</h1>
          {{#each teams}}
            <ul>
              <li><h3>{{capitalize this.slug}}</h3></li>
            </ul>
    
            {{#unless (findTeamCourses this.slug ../teamsCourses) }}
              <div class='mb-4 bg-neutral-50 hover:bg-neutral-100 p-4 ml-4'>
                <div class='text-md font-bold mb-2'>Aktiivsed kursused puuduvad</div>
              </div>
            {{/unless }}
            {{#with (findTeamCourses this.slug ../teamsCourses)}}              
              {{#each this}}
                <div class='mb-4 bg-neutral-50 hover:bg-neutral-100 p-4 ml-4'>
                  <a
                    class='!no-underline uppercase w-full'
                    href='/course/{{this.courseSlug}}/about?ref={{this.refBranch}}'
                  ><div><span class='text-md font-bold mb-2'>{{this.courseName}}</span>
                  <span class="bg-blue-100 text-blue-800 text-sm pl-3 font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300">{{this.refBranch}} haru</span></div>
                    <div class="flex flex-nowrap justify-start gap-x-4 items-center mt-4">
                      <p class="m-0 p-0">{{this.courseCode}}</p>
                      <p class="flex items-start gap-2 m-0 p-0"><span class="material-symbols-outlined">confirmation_number</span>{{this.courseEAP}} EAP</p>
                      <p class="flex items-start gap-2 m-0 p-0"><span class="material-symbols-outlined">grading</span>{{this.courseGrading}}</p>
                      <p class="flex items-start gap-2 m-0 p-0"><span class="material-symbols-outlined">calendar_month</span>{{this.courseSemester}}</p>
                      <p class="flex items-start gap-2 m-0 p-0"><span class="material-symbols-outlined">person</span>{{#with (findTeacher this.teacherUsername ../../../teachers)}}{{this.displayName}}{{/with }}</p>
                    </div>
                    </a>
                </div>
              {{/each}}

            {{/with }}

          {{/each }}

        </div>

      {{/if }}
    </div>

  </main>

</div>
